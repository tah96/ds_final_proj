---
title: "Exploratory Analysis"
format: html
editor: visual
---

## Introduction

The purpose of this document is to showcase our exploratory data analysis surrounding factors that may contribute to diabetes (or lack thereof). Our data comes from Behavioral Risk Factor Surveillance System dataset on [Kaggle](https://www.kaggle.com/datasets/alexteboul/diabetes-health-indicators-dataset/) where the organization phoned over 400,000 individuals in 2015 asking about the presence of diabetes and other factors.

We aim to predict diabetes based on these variables and understand our most important/impactful variables.
 
## Libraries & Reading Data

Below we will read in our libraries and our diabetes data set. As we can see in the output, some of our "numeric" variables shouldn't be numeric as they are categorical variables.

```{r}
library(tidyverse)

raw_data <- read_csv(file='diabetes_data.csv',show_col_types=FALSE)
head(raw_data)
```
## Data Cleaning

As stated, a lot of our data is labeled as a numeric type but should be categorical. Lets change all those for factors, and for everything that is not binary we will provide labels explicitly.

```{r}
data <- raw_data %>%
  mutate(Diabetes_binary = as.factor(Diabetes_binary),
         HighBP = as.factor(HighBP),
         HighChol = as.factor(HighChol),
         CholCheck = as.factor(CholCheck),
         Smoker = as.factor(Smoker),
         Stroke = as.factor(Stroke),
         HeartDiseaseorAttack = as.factor(HeartDiseaseorAttack),
         PhysActivity = as.factor(PhysActivity),
         Fruits = as.factor(Fruits),
         Veggies = as.factor(Veggies),
         HvyAlcoholConsump = as.factor(HvyAlcoholConsump),
         AnyHealthcare = as.factor(AnyHealthcare),
         NoDocbcCost = as.factor(NoDocbcCost),
         GenHlth = factor(GenHlth,levels=seq(1:5),labels=c('Excellent','Very Good','Good','Fair','Poor')),
         DiffWalk = as.factor(DiffWalk),
         Sex = as.factor(Sex),
         Age = factor(Age,levels=seq(1:13),labels=c('18-24','25-29','30-34','35-39','40-44','45-49'
                                            ,'50-54','55-59','60-64','65-69','70-74','75-79','80+')
          ),
         Education = factor(Education,levels=seq(1:6),labels=c('Never attended school or only kindergarten','Grades 1-8','Grades 9-11','Grade 12 or GED','College 1-3 years','College 4+ years')),
         Income = factor(Income,levels=seq(1:8),labels=c('<$10k','<$15k','<$20k','<$25k','<$35k','<$50k','<$75k','$75k+'))
    )

head(data)
```

Now that we've converted some things to factors, lets check for nulls (NA). There are none! Great news, since we know that not accounting for nulls can hurt our data quality and modeling.

```{r}
colSums(is.na(data))
```

